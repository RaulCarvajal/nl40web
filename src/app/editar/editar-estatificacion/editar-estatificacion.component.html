<app-navbar></app-navbar>
<hr>
<hr>

<div class="container shadow-lg p-3 mb-5 mt-5 bg-white rounded w-100 m-auto" *ngIf="!cargando">
   
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-left">
      <a role="button" class="btn btn-outline-primary display-2" (click)="return()" data-toggle="tooltip" data-placement="top" title="Regresar">
        <mat-icon>arrow_back</mat-icon>
      </a> 
    </div>
  </div>
  <div class="row">
    <div class="col-lg-12 col-md-12 col-sm-12">
      <h1 class="display-4 inline-icon">Editar estratificación</h1>
    </div>
  </div>
  <hr>
  <div class="row">
    <div class="col">
      <div class="row">
        <div class="col-12">
          <form class="example-form" [formGroup]="formEstat" (ngSubmit)="update()">
            <div class="row">
              <div class="col-lg-6 col-md-12 col-sm-12">
                <mat-form-field class="w-100">
                  <mat-label>Tamaño de la empresa (Personas)</mat-label>
                  <mat-select formControlName="tamaño_emp">
                    <mat-option *ngFor="let obj of tamEmpresa" [value]="obj.id_tam_emp">{{obj.tamano_empresa}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-lg-6 col-md-12 col-sm-12">
                  <mat-form-field class="w-100">
                    <mat-label>Nivel de ventas anuales</mat-label>
                    <mat-select formControlName="nivel_ventas">
                      <mat-option *ngFor="let nvl of nivVentas" [value]="nvl.id_niv_ven">{{nvl.nivel_ventas}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
            </div>
            <div class="row">
              <div class="col-lg-6 col-md-12 col-sm-12">
                <mat-form-field class="w-100">
                  <mat-label>Detalle de ventas empresas a <strong>solo</strong> en servicios y Productos de TI</mat-label>
                  <mat-select formControlName="nivel_ventas_sector">
                    <mat-option *ngFor="let det of detVentas" [value]="det.id_det_ven">{{det.tamano_detven}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-lg-6 col-md-12 col-sm-12">
                <mat-form-field class="w-100">
                  <mat-label>Software que utilizan actualmente para sus procesos en su organización</mat-label>
                  <mat-select formControlName="software" multiple>
                    <mat-option *ngFor="let sw of tipoSw" [value]="sw.id_cat_sw">{{sw.nombre_sw}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-12 col-md-12 col-sm-12">
                <mat-form-field class="w-100">
                  <mat-label>Certificaciones principales con las que cuenta su organización</mat-label>
                  <mat-select formControlName="certificaciones" multiple>
                    <mat-option *ngFor="let crts of certs" [value]="crts.id_cat_cert">{{crts.nombre_cert}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
            <div class="row">
              <div class="col-lg-6 col-md-12 col-sm-12">
                <mat-form-field class="w-100">
                  <mat-label>Sector al que pertenece</mat-label>
                  <mat-select formControlName="sector">
                    <mat-option *ngFor="let sector of sectores" [value]="sector.id_cat_sec">{{sector.nombre_sector}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-lg-6 col-md-12 col-sm-12">
                  <mat-form-field class="w-100">
                    <mat-label>Tipo de empresa</mat-label>
                    <mat-select formControlName="tipo">
                      <mat-option *ngFor="let te of tipoEmpresa" [value]="te.id_cat_te">{{te.nombre_tipo}}</mat-option>
                    </mat-select>
                  </mat-form-field>
                </div>
            </div>
            <div class="row">
              <div class="col-12 text-right">
                <button type="submit" class="btn btn-success" style="margin-left: 10px; width: 100px;"  data-toggle="tooltip" data-placement="left" title="Tooltip on left">Guardar</button>
              </div>
            </div>
            <div class="row">
              <div class="offset-lg-5 col-lg-1 offset-md-5 col-md-1 offset-sm-4 col-sm-2">
                <mat-spinner *ngIf="saving"></mat-spinner>
                <h1 class="lead text-danger" *ngIf="error">Error en registro</h1>
              </div>
            </div>

          </form>
        </div>
      </div>
      <div class="row" *ngIf="guardado">
        <div class="col">
          <p class="lead text-center">Información guardada.</p>
        </div>
      </div>
      <div class="row" *ngIf="guardado">
        <div class="mx-auto">
          <button class="btn btn-success" (click)="finalizar()">Siguiente</button>
        </div>
      </div>
    </div>
  </div>
</div>
<br><br>
<div class="container shadow-lg p-3 mb-5 mt-5 bg-white rounded w-100 m-auto" *ngIf="cargando">
  <div class="row">
    <div class="col">
        <h1 class="lead">
          Cargando datos . . .
        </h1>
    </div>
  </div>
  <div class="row">
    <div class="col">
        <mat-spinner class="mx-auto"></mat-spinner>
    </div>
  </div>
</div>
<hr>
<br>
<app-footer></app-footer>